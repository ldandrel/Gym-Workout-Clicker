function change_score_value(){index.force_display.innerHTML=parseInt(character.force),index.force_second_display.innerHTML=parseInt(10*character.force_second),index.fame_display.innerHTML=parseInt(character.fame),index.fame_second_display.innerHTML=parseInt(character.fame_second),index.click_value_display.innerHTML=parseInt(character.click_value)}function change_amelioration_value(e){var a=document.querySelector("li.index-"+e),r=a.querySelector(".value"),c=a.querySelector(".level");r.innerHTML=amelioration[character.page_amelio][e].strength,c.innerHTML=amelioration[character.page_amelio][e].level;var t=amelioration[character.page_amelio][e].results;"click_value"==t?character.click_value=character.click_value+amelioration[character.page_amelio][e].value:"auto_click"==t&&(character.force_second+=amelioration[character.page_amelio][e].value)}function change_upgrade_value(e,a){if("multiplication"==amelioration[character.page_amelio][a].upgrade[e].results){var r=amelioration[character.page_amelio][a].results;"click_value"==r?character.click_value=character.click_value*amelioration[character.page_amelio][a].upgrade[e].value:"auto_click"==r&&(character.force_second=character.force_second*amelioration[character.page_amelio][a].upgrade[e].value)}else"percent_strenght"==amelioration[character.page_amelio][a].upgrade[e].results?console.log("percent_strength"):"percent"==amelioration[character.page_amelio][a].upgrade[e].results&&console.log("percent");if(0==amelioration[character.page_amelio][a].upgrade[e].again){amelioration[character.page_amelio][a].upgrade[e].bought=!0,console.log(".amelioration ul li.index-"+a+" .upgrades .index-"+e);var c=document.querySelector(".amelioration ul li.index-"+a+" .upgrades .index-"+e);c.classList.add("already-bought")}}function display_ameliorations(){for(var e=0;e<amelioration[character.page_amelio].length;e++){var a="unlocked";amelioration[character.page_amelio][e].fame>character.fame&&(a="");var r="already-bought";0==amelioration[character.page_amelio][e].upgrade[0].bought&&(r="");var c="already-bought";0==amelioration[character.page_amelio][e].upgrade[1].bought&&(c=""),index.amelioration_list.innerHTML+='<li data-index="'+e+'" class="index-'+e+" "+a+'"><div class="locked">Locked</div><img src="assets/img/amelio.jpg" alt="amelioration icon" class="illustration index-'+e+'"><p class="name index-'+e+'">'+amelioration[character.page_amelio][e].name+'</p><button class="buy-button index-'+e+'" data-index="'+e+'"><p>Buy</p><img src="assets/img/strength.png" alt="Strength Icon"><span class="value">'+amelioration[character.page_amelio][e].strength+'</span></button><span class="level">'+amelioration[character.page_amelio][e].level+'</span><div class="upgrades"><div class="upgrade index-0 '+r+'" data-index="0" data-former="'+e+'"><div class="bought">Bought</div>'+amelioration[character.page_amelio][e].upgrade[0].name+'</div><div class="upgrade index-1 '+c+'" data-index="1" data-former="'+e+'"><div class="bought">Bought</div>'+amelioration[character.page_amelio][e].upgrade[1].name+"</div></div></li>"}add_event_buy()}function add_event_buy(){for(var e=0;e<amelioration[character.page_amelio].length;e++){index.amelioration_button[e]=index.container.querySelector(".buy-button.index-"+e),index.amelioration_button[e].addEventListener("click",function(){var e=this.getAttribute("data-index"),a=amelioration[character.page_amelio][e].strength;character.fame<amelioration[character.page_amelio][e].fame?alert("you are not famous enough"):character.force<a?alert("You have not enought strength to purchase that"):(character.force=character.force-a,amelioration[character.page_amelio][e].level++,amelioration[character.page_amelio][e].strength=parseInt(1.1*a+1.5*amelioration[character.page_amelio][e].level),change_amelioration_value(e),change_score_value())}),index.amelioration_button_upgrade[e]=[];for(var a=0;a<2;a++)index.amelioration_button_upgrade[e][a]=index.container.querySelector(".amelioration-list li.index-"+e+" .upgrade.index-"+a),index.amelioration_button_upgrade[e][a].addEventListener("click",function(){var e=this.getAttribute("data-index"),a=this.getAttribute("data-former"),r=amelioration[character.page_amelio][a].upgrade[e].strength;1==amelioration[character.page_amelio][a].upgrade[e].bought?alert("You have already bought that item"):character.force<r?alert("You have not enought strength to purchase that"):(character.force=character.force-r,amelioration[character.page_amelio][a].upgrade[e].strength=2*r,change_upgrade_value(e,a),change_score_value())})}}var index={};index.container=document.querySelector("body"),index.button=index.container.querySelector(".click_button"),index.force_display=index.container.querySelector(".force_display span"),index.force_second_display=index.container.querySelector(".force_second_display span"),index.fame_display=index.container.querySelector(".fame_display span"),index.fame_second_display=index.container.querySelector(".fame_second_display span"),index.click_value_display=index.container.querySelector(".click_value_display span"),index.landing=index.container.querySelector(".landing_screen"),index.landing_button=index.container.querySelector(".play_button"),index.amelioration_list=index.container.querySelector(".amelioration-list"),index.amelioration_button=[],index.amelioration_button_upgrade=[],index.options=index.container.querySelector(".options"),index.options_button=index.options.querySelector(".options-button"),index.reset=index.options.querySelector(".reset");var character={};character.force=0,character.force_second=0,character.fame=0,character.fame_second=0,character.click_value=1,character.page_amelio=0,index.options_button.addEventListener("click",function(){index.options.classList.contains("visible")?index.options.classList.remove("visible"):index.options.classList.add("visible")}),index.reset.addEventListener("click",function(){character.force=0,character.force_second=0,character.fame=0,character.fame_second=0,character.click_value=1,amelioration=amelioration_base,index.amelioration_list.innerHTML="",display_ameliorations()}),character.force=localStorage.getItem("force"),isNaN(character.force)?character.force=0:(character.force=parseFloat(character.force),index.force_display.innerHTML=character.force),character.force_second=localStorage.getItem("force_second"),isNaN(character.force_second)?character.force_second=0:(character.force_second=parseFloat(character.force_second),index.force_second_display.innerHTML=character.force_second),character.click_value=localStorage.getItem("click_value"),isNaN(character.click_value)?character.click_value=1:(character.click_value=parseInt(character.click_value),index.click_value_display.innerHTML=character.click_value),character.fame=localStorage.getItem("fame"),isNaN(character.fame)?character.fame=0:(character.fame=parseInt(character.fame),index.fame_display.innerHTML=character.fame),character.fame_second=localStorage.getItem("fame_second"),isNaN(character.fame_second)?(character.fame_second=0,change_score_value()):(character.fame_second=parseInt(character.fame_second),index.fame_second_display.innerHTML=character.fame_second),change_score_value(),setInterval(function(){var e=JSON.stringify(amelioration);localStorage.setItem("force",character.force),localStorage.setItem("amelioration",e),localStorage.setItem("force_second",character.force_second),localStorage.setItem("fame",character.fame),localStorage.setItem("fame_second",character.fame_second),localStorage.setItem("click_value",character.click_value)},1e3),setInterval(function(){character.fame=parseInt(character.fame)+character.fame_second,character.force=parseFloat(character.force)+character.force_second,change_score_value()},100),index.button.addEventListener("click",function(){character.force=parseFloat(character.force),character.force=parseFloat(character.force)+parseFloat(character.click_value),change_score_value(),index.button.classList.contains("img-1")?(index.button.classList.add("img-2"),index.button.classList.remove("img-1")):(index.button.classList.add("img-1"),index.button.classList.remove("img-2"))}),index.landing_button.addEventListener("click",function(){index.container.classList.add("hide_landing")}),display_ameliorations();