function convert_number(e){for(var a=[{value:Math.pow(10,6),singular:"million",plural:"millions"},{value:Math.pow(10,9),singular:"milliard",plural:"milliards"},{value:Math.pow(10,12),singular:"billion",plural:"billions"},{value:Math.pow(10,15),singular:"billiard",plural:"billiards"},{value:Math.pow(10,18),singular:"trillion",plural:"trillions"},{value:Math.pow(10,24),singular:"quatrillion",plural:"quatrillions"},{value:Math.pow(10,30),singular:"quintillion",plural:"quintillions"},{value:Math.pow(10,36),singular:"sextillion",plural:"sextillions"},{value:Math.pow(10,42),singular:"septillion",plural:"Septillions"}],r=null,t=0;t<a.length;t++){var i=a[t];e>i.value&&(r=i)}if(r){var c=Math.floor(e/r.value),o=Math.floor(e/(r.value/1e3)-1e3*c),n=null;return n=1===c?c+","+o+" "+r.singular:c+","+o+" "+r.plural}return e}function change_score_value(){index.force_display.innerHTML=convert_number(character.force),index.force_second_display.innerHTML=convert_number(10*character.force_second),index.fame_display.innerHTML=convert_number(character.fame),index.fame_second_display.innerHTML=convert_number(character.fame_second),index.click_value_display.innerHTML=convert_number(character.click_value)}function change_amelioration_value(e){var a=document.querySelector("li.index-"+e),r=a.querySelector(".value"),t=a.querySelector(".level");r.innerHTML=amelioration[character.page_amelio][e].strength,t.innerHTML=amelioration[character.page_amelio][e].level;var i=amelioration[character.page_amelio][e].results;"click_value"==i?character.click_value=character.click_value+amelioration[character.page_amelio][e].value:"auto_click"==i&&(character.force_second+=amelioration[character.page_amelio][e].value)}function change_upgrade_value(e,a){if("multiplication"==amelioration[character.page_amelio][a].upgrade[e].results){var r=amelioration[character.page_amelio][a].results;"click_value"==r?character.click_value=character.click_value*amelioration[character.page_amelio][a].upgrade[e].value:"auto_click"==r&&(character.force_second=character.force_second*amelioration[character.page_amelio][a].upgrade[e].value)}else"percent_strenght"==amelioration[character.page_amelio][a].upgrade[e].results?console.log("percent_strength"):"percent"==amelioration[character.page_amelio][a].upgrade[e].results&&console.log("percent");if(0==amelioration[character.page_amelio][a].upgrade[e].again){amelioration[character.page_amelio][a].upgrade[e].bought=!0,console.log(".amelioration ul li.index-"+a+" .upgrades .index-"+e);var t=document.querySelector(".amelioration ul li.index-"+a+" .upgrades .index-"+e);t.classList.add("already-bought")}}function panel_appear(){for(var e=0;e<amelioration[character.page_amelio].length;e++){var a=index.container.querySelector(".amelioration .buy-button.index-"+e);a.addEventListener("mouseover",function(){index.panel_desc.style.opacity=1;var e=this.getAttribute("data-index"),a=amelioration[character.page_amelio][e].description,r=amelioration[character.page_amelio][e].name,t=amelioration[character.page_amelio][e].value,i=amelioration[character.page_amelio][e].results;index.panel_desc.innerHTML="<p>Description : "+a+"</p><p> Chaque <strong>"+r+"</strong> vous donne <strong>+"+t+"</strong> dans votre <strong>"+i+"</strong>"});for(var r=0;r<2;r++){var t=index.container.querySelector(".amelioration li.index-"+e+" .upgrades .upgrade.index-"+r);t.addEventListener("mouseover",function(){index.panel_desc.style.opacity=1;var e=this.getAttribute("data-index"),a=this.getAttribute("data-former"),r=amelioration[character.page_amelio][a].upgrade[e].description,t=amelioration[character.page_amelio][a].upgrade[e].name,i=amelioration[character.page_amelio][a].upgrade[e].value,c=amelioration[character.page_amelio][a].upgrade[e].results;index.panel_desc.innerHTML="<p>Description : "+r+"</p><p> Chaque <strong>"+t+"</strong> vous donne <strong>+"+i+"</strong> dans votre <strong>"+c+"</strong>"})}a.addEventListener("mouseout",function(){index.panel_desc.style.opacity=0})}}function display_ameliorations(){for(var e=0;e<amelioration[character.page_amelio].length;e++){var a="unlocked";amelioration[character.page_amelio][e].fame>character.fame&&(a="");var r="already-bought";0==amelioration[character.page_amelio][e].upgrade[0].bought&&(r="");var t="already-bought";0==amelioration[character.page_amelio][e].upgrade[1].bought&&(t="");var i=amelioration[character.page_amelio][e].name,c=amelioration[character.page_amelio][e].strength,o=amelioration[character.page_amelio][e].level,n=amelioration[character.page_amelio][e].upgrade[0].name,l=amelioration[character.page_amelio][e].upgrade[1].name;index.amelioration_list.innerHTML+='<li data-index="'+e+'" class="index-'+e+" "+a+'"><div class="locked">Locked</div><img src="assets/img/amelio.jpg" alt="amelioration icon" class="illustration index-'+e+'"><p class="name index-'+e+'">'+i+'</p><button class="buy-button index-'+e+'" data-index="'+e+'"><p>Buy</p><img src="assets/img/strength.png" alt="Strength Icon"><span class="value">'+c+'</span></button><span class="level">'+o+'</span><div class="upgrades"><div class="upgrade index-0 '+r+'" data-index="0" data-former="'+e+'"><div class="bought">Bought</div>'+n+'</div><div class="upgrade index-1 '+t+'" data-index="1" data-former="'+e+'"><div class="bought">Bought</div>'+l+"</div></div></li>"}add_event_buy(),panel_appear()}function add_event_buy(){for(var e=0;e<amelioration[character.page_amelio].length;e++){index.amelioration_button[e]=index.container.querySelector(".buy-button.index-"+e),index.amelioration_button[e].addEventListener("click",function(){var e=this.getAttribute("data-index"),a=amelioration[character.page_amelio][e].strength;character.fame<amelioration[character.page_amelio][e].fame?alert("you are not famous enough"):character.force<a?alert("You have not enought strength to purchase that"):(character.force=character.force-a,amelioration[character.page_amelio][e].level++,amelioration[character.page_amelio][e].strength=parseInt(1.5*a+amelioration[character.page_amelio][e].value*amelioration[character.page_amelio][e].level*4),change_amelioration_value(e),change_score_value())}),index.amelioration_button_upgrade[e]=[];for(var a=0;a<2;a++)index.amelioration_button_upgrade[e][a]=index.container.querySelector(".amelioration-list li.index-"+e+" .upgrade.index-"+a),index.amelioration_button_upgrade[e][a].addEventListener("click",function(){var e=this.getAttribute("data-index"),a=this.getAttribute("data-former"),r=amelioration[character.page_amelio][a].upgrade[e].strength;1==amelioration[character.page_amelio][a].upgrade[e].bought?alert("You have already bought that item"):character.force<r?alert("You have not enought strength to purchase that"):(character.force=character.force-r,amelioration[character.page_amelio][a].upgrade[e].strength=2*r,change_upgrade_value(e,a),change_score_value())})}}var index={};index.container=document.querySelector("body"),index.button=index.container.querySelector(".click_button"),index.force_display=index.container.querySelector(".force_display span"),index.force_second_display=index.container.querySelector(".force_second_display span"),index.fame_display=index.container.querySelector(".fame_display span"),index.fame_second_display=index.container.querySelector(".fame_second_display span"),index.click_value_display=index.container.querySelector(".click_value_display span"),index.landing=index.container.querySelector(".landing_screen"),index.landing_button=index.container.querySelector(".play_button"),index.amelioration_list=index.container.querySelector(".amelioration-list"),index.amelioration_button=[],index.amelioration_button_upgrade=[],index.options=index.container.querySelector(".options"),index.options_button=index.options.querySelector(".options-button"),index.reset=index.options.querySelector(".reset"),index.panel_desc=document.querySelector(".mouse-hover-description");var character={};character.force=0,character.force_second=0,character.fame=0,character.fame_second=0,character.click_value=1,character.page_amelio=0,index.options_button.addEventListener("click",function(){index.options.classList.contains("visible")?index.options.classList.remove("visible"):index.options.classList.add("visible")}),index.reset.addEventListener("click",function(){character.force=0,character.force_second=0,character.fame=0,character.fame_second=0,character.click_value=1,amelioration=amelioration_base,index.amelioration_list.innerHTML="",display_ameliorations()}),character.force=localStorage.getItem("force"),isNaN(character.force)?character.force=0:(character.force=parseFloat(character.force),index.force_display.innerHTML=character.force),character.force_second=localStorage.getItem("force_second"),isNaN(character.force_second)?character.force_second=0:(character.force_second=parseFloat(character.force_second),index.force_second_display.innerHTML=character.force_second),character.click_value=localStorage.getItem("click_value"),isNaN(character.click_value)?character.click_value=1:(character.click_value=parseInt(character.click_value),index.click_value_display.innerHTML=character.click_value),character.fame=localStorage.getItem("fame"),isNaN(character.fame)?character.fame=0:(character.fame=parseInt(character.fame),index.fame_display.innerHTML=character.fame),character.fame_second=localStorage.getItem("fame_second"),isNaN(character.fame_second)?(character.fame_second=0,change_score_value()):(character.fame_second=parseInt(character.fame_second),index.fame_second_display.innerHTML=character.fame_second),change_score_value(),setInterval(function(){var e=JSON.stringify(amelioration);localStorage.setItem("force",character.force),localStorage.setItem("amelioration",e),localStorage.setItem("force_second",character.force_second),localStorage.setItem("fame",character.fame),localStorage.setItem("fame_second",character.fame_second),localStorage.setItem("click_value",character.click_value)},1e3),setInterval(function(){character.fame=parseInt(character.fame)+character.fame_second,character.force=parseFloat(character.force)+character.force_second,change_score_value()},100),index.button.addEventListener("click",function(){character.force=parseFloat(character.force),character.force=parseFloat(character.force)+parseFloat(character.click_value),change_score_value(),index.button.classList.contains("img-1")?(index.button.classList.add("img-2"),index.button.classList.remove("img-1")):(index.button.classList.add("img-1"),index.button.classList.remove("img-2"))}),document.addEventListener("mouseover",function(e){var a=e.clientX-305,r=e.clientY-205;r<205&&(r+=205),index.panel_desc.style.transform="translateX("+a+"px) translateY("+r+"px)"}),index.landing_button.addEventListener("click",function(){index.container.classList.add("hide_landing")}),display_ameliorations();