function convert_number(e){for(var a=[{value:Math.pow(10,6),singular:"million",plural:"millions"},{value:Math.pow(10,9),singular:"milliard",plural:"milliards"},{value:Math.pow(10,12),singular:"billion",plural:"billions"},{value:Math.pow(10,15),singular:"billiard",plural:"billiards"},{value:Math.pow(10,18),singular:"trillion",plural:"trillions"},{value:Math.pow(10,24),singular:"quatrillion",plural:"quatrillions"},{value:Math.pow(10,30),singular:"quintillion",plural:"quintillions"},{value:Math.pow(10,36),singular:"sextillion",plural:"sextillions"},{value:Math.pow(10,42),singular:"septillion",plural:"Septillions"}],r=null,t=0;t<a.length;t++){var i=a[t];e>i.value&&(r=i)}if(r){var n=Math.floor(e/r.value),c=Math.floor(e/(r.value/1e3)-1e3*n),o=null;return o=1===n?n+","+c+" "+r.singular:n+","+c+" "+r.plural}return parseInt(e)}function change_score_value(){index.force_display.innerHTML=convert_number(character.force),index.force_second_display.innerHTML=convert_number(10*character.force_second),index.fame_display.innerHTML=convert_number(character.fame),index.fame_second_display.innerHTML=convert_number(character.fame_second),index.click_value_display.innerHTML=convert_number(character.click_value),index.fame_level_display.innerHTML=convert_number(character.fame_level);var e=character.fame/character.level_value[character.fame_level];index.xp_bar.style.transform="translateX(-20%) skew(-30deg) scaleX("+e+")",e>=1&&character.fame_level++}function change_color_panel(){for(var e=0;e<index.amelioration_panels.length;e++)character.page_amelio!=e?(index.amelioration_panels[e].style.background="#fff",index.amelioration_panels[e].style.color="#05D1D7"):(index.amelioration_panels[e].style.background="#05D1D7",index.amelioration_panels[e].style.color="#fff")}function change_amelioration_value(e){var a=document.querySelector("li.index-"+e),r=a.querySelector(".value"),t=a.querySelector(".level");r.innerHTML=amelioration[character.page_amelio][e].strength,t.innerHTML=amelioration[character.page_amelio][e].level;var i=amelioration[character.page_amelio][e].results;"click_value"==i?character.click_value=character.click_value+amelioration[character.page_amelio][e].value:"auto_click"==i?character.force_second+=amelioration[character.page_amelio][e].value:"auto_fame"==i&&(character.fame_second+=amelioration[character.page_amelio][e].value)}function change_upgrade_value(e,a){if("multiplication"==amelioration[character.page_amelio][a].upgrade[e].results){var r=amelioration[character.page_amelio][a].results;"click_value"==r?character.click_value=character.click_value*amelioration[character.page_amelio][a].upgrade[e].value:"auto_click"==r&&(character.force_second=character.force_second*amelioration[character.page_amelio][a].upgrade[e].value)}else"percent_strenght"==amelioration[character.page_amelio][a].upgrade[e].results?console.log("percent_strength"):"percent"==amelioration[character.page_amelio][a].upgrade[e].results&&console.log("percent");if(0==amelioration[character.page_amelio][a].upgrade[e].again){amelioration[character.page_amelio][a].upgrade[e].bought=!0,console.log(".amelioration ul li.index-"+a+" .upgrades .index-"+e);var t=document.querySelector(".amelioration ul li.index-"+a+" .upgrades .index-"+e);t.classList.add("already-bought")}}function check_notif(){requestAnimationFrame(check_notif),0!=character.force&&(notif.first.style.display="none")}function panel_appear(){for(var e=0;e<amelioration[character.page_amelio].length;e++){var a=index.container.querySelector(".amelioration .buy-button.index-"+e);if(a.addEventListener("mouseover",function(){var e=this.getBoundingClientRect();index.panel_desc.style.transform="translateX(-400px) translateY("+e.top+"px)",index.panel_desc.style.opacity=1,index.panel_desc.style.zIndex=10;var a=this.getAttribute("data-index"),r=amelioration[character.page_amelio][a].description,t=amelioration[character.page_amelio][a].name,i=amelioration[character.page_amelio][a].value,n=amelioration[character.page_amelio][a].strength,c=amelioration[character.page_amelio][a].results;index.panel_desc.innerHTML="<p>Description : "+r+"</p><p> Chaque <strong>"+t+"</strong> vous donne <strong>+"+i+"</strong> dans votre <strong>"+c+"</strong><p>Cout : "+n+"<p>"}),character.page_amelio<2)for(var r=0;r<2;r++){var t=index.container.querySelector(".amelioration li.index-"+e+" .upgrades .upgrade.index-"+r);t.addEventListener("mouseover",function(){var e=this.getBoundingClientRect();index.panel_desc.style.transform="translateX(-400px) translateY("+e.top+"px)",index.panel_desc.style.opacity=1,index.panel_desc.style.zIndex=10;var a=this.getAttribute("data-index"),r=this.getAttribute("data-former"),t=amelioration[character.page_amelio][r].upgrade[a].description,i=amelioration[character.page_amelio][r].upgrade[a].name,n=amelioration[character.page_amelio][r].upgrade[a].value,c=amelioration[character.page_amelio][r].upgrade[a].strength,o=amelioration[character.page_amelio][r].upgrade[a].results;index.panel_desc.innerHTML="<p>Description : "+t+"</p><p> Chaque <strong>"+i+"</strong> vous donne <strong>+"+n+"</strong> dans votre <strong>"+o+"</strong><p>Cout : "+c+"<p>"}),t.addEventListener("mouseout",function(){index.panel_desc.style.opacity=0,index.panel_desc.style.zIndex=-10})}a.addEventListener("mouseout",function(){index.panel_desc.style.opacity=0,index.panel_desc.style.zIndex=-10})}}function display_ameliorations(){for(var e=0;e<amelioration[character.page_amelio].length;e++){var a="unlocked";if(amelioration[character.page_amelio][e].fame>character.fame&&(a=""),character.page_amelio<2){var r="already-bought";0==amelioration[character.page_amelio][e].upgrade[0].bought&&(r="");var t="already-bought";0==amelioration[character.page_amelio][e].upgrade[1].bought&&(t="");amelioration[character.page_amelio][e].upgrade[0].name,amelioration[character.page_amelio][e].upgrade[1].name}var i=amelioration[character.page_amelio][e].name,n=amelioration[character.page_amelio][e].strength,c=amelioration[character.page_amelio][e].icon,o=amelioration[character.page_amelio][e].level;character.page_amelio<2?index.amelioration_list.innerHTML+='<li data-index="'+e+'" class="index-'+e+" "+a+'"><div class="locked">Locked</div><img src="assets/img/amelioration/'+c+'" alt="amelioration icon" class="illustration index-'+e+'"><p class="name index-'+e+'">'+i+'</p><button class="buy-button index-'+e+'" data-index="'+e+'"><span class="value">'+n+'</span></button><span class="level">'+o+'</span><div class="upgrades"><div class="upgrade index-0 '+r+'" data-index="0" data-former="'+e+'"></div><div class="upgrade index-1 '+t+'" data-index="1" data-former="'+e+'"></div></li>':index.amelioration_list.innerHTML+='<li data-index="'+e+'" class="index-'+e+" "+a+'"><div class="locked">Locked</div><img src="assets/img/amelioration/'+c+'" alt="amelioration icon" class="illustration index-'+e+'"><p class="name index-'+e+'">'+i+'</p><button class="buy-button index-'+e+'" data-index="'+e+'"><span class="value">'+n+'</span></button><span class="level">'+o+"</span></div></li>"}add_event_buy(),panel_appear()}function add_event_buy(){for(var e=0;e<amelioration[character.page_amelio].length;e++)if(index.amelioration_button[e]=index.container.querySelector(".buy-button.index-"+e),index.amelioration_button[e].addEventListener("click",function(){var e=this.getAttribute("data-index"),a=amelioration[character.page_amelio][e].strength;character.fame<amelioration[character.page_amelio][e].fame?alert("you are not famous enough"):character.force<a?alert("You have not enought strength to purchase that"):(character.force=character.force-a,amelioration[character.page_amelio][e].level++,amelioration[character.page_amelio][e].strength=parseInt(Math.pow(a,1.15)),change_amelioration_value(e),change_score_value())}),character.page_amelio<2){index.amelioration_button_upgrade[e]=[];for(var a=0;a<2;a++)index.amelioration_button_upgrade[e][a]=index.container.querySelector(".amelioration-list li.index-"+e+" .upgrade.index-"+a),index.amelioration_button_upgrade[e][a].addEventListener("click",function(){var e=this.getAttribute("data-index"),a=this.getAttribute("data-former"),r=amelioration[character.page_amelio][a].upgrade[e].strength;1==amelioration[character.page_amelio][a].upgrade[e].bought?alert("You have already bought that item"):character.force<r?alert("You have not enought strength to purchase that"):(character.force=character.force-r,amelioration[character.page_amelio][a].upgrade[e].strength=2*r,change_upgrade_value(e,a),change_score_value())})}}var index={};index.container=document.querySelector("body"),index.button=index.container.querySelector(".click_button"),index.force_display=index.container.querySelector(".force_display span"),index.force_second_display=index.container.querySelector(".force_second_display span"),index.fame_display=index.container.querySelector(".fame_display span"),index.fame_second_display=index.container.querySelector(".fame_second_display span"),index.click_value_display=index.container.querySelector(".click_value_display span"),index.landing=index.container.querySelector(".landing_screen"),index.landing_button=index.container.querySelector(".play_button"),index.amelioration_list=index.container.querySelector(".amelioration-list"),index.amelioration_button=[],index.amelioration_button_upgrade=[],index.options=index.container.querySelector(".options"),index.options_button=index.options.querySelector(".options-button"),index.reset=index.options.querySelector(".reset"),index.panel_desc=document.querySelector(".mouse-hover-description"),index.amelioration_panels=index.container.querySelectorAll(".panel"),index.fame_level_display=index.container.querySelector(".fame_level span"),index.xp_bar=index.container.querySelector(".progress-xp-bar");var character={};character.force=0,character.force_second=0,character.fame=0,character.fame_second=0,character.click_value=1,character.page_amelio=0,character.fame_level=0,character.level_value=[1e3,1e4,1e6];var notif={};notif.first=index.container.querySelector(".first-click-notif"),index.options_button.addEventListener("click",function(){index.options.classList.contains("visible")?index.options.classList.remove("visible"):index.options.classList.add("visible")}),index.reset.addEventListener("click",function(){character.force=0,character.force_second=0,character.fame=0,character.fame_second=0,character.click_value=1,character.fame_level=0,character.level_value=[1e3,1e4,1e6],amelioration=amelioration_base,index.amelioration_list.innerHTML="",display_ameliorations()}),character.force=localStorage.getItem("force"),isNaN(character.force)?character.force=0:(character.force=parseFloat(character.force),index.force_display.innerHTML=character.force),character.force_second=localStorage.getItem("force_second"),isNaN(character.force_second)?character.force_second=0:(character.force_second=parseFloat(character.force_second),index.force_second_display.innerHTML=character.force_second),character.click_value=localStorage.getItem("click_value"),isNaN(character.click_value)?character.click_value=1:(character.click_value=parseInt(character.click_value),index.click_value_display.innerHTML=character.click_value),character.fame_level=localStorage.getItem("fame_level"),isNaN(character.fame_level)?character.fame_level=0:(character.fame_level=parseInt(character.fame_level),index.fame_level_display.innerHTML=character.fame_level),character.fame=localStorage.getItem("fame"),isNaN(character.fame)?character.fame=0:(character.fame=parseInt(character.fame),index.fame_display.innerHTML=character.fame),character.fame_second=localStorage.getItem("fame_second"),isNaN(character.fame_second)?(character.fame_second=0,change_score_value()):(character.fame_second=parseInt(character.fame_second),index.fame_second_display.innerHTML=character.fame_second),change_score_value();for(var i=0;i<index.amelioration_panels.length;i++)index.amelioration_panels[i].addEventListener("click",function(){var e=this.getAttribute("data-index");character.page_amelio=e,index.amelioration_list.innerHTML="",display_ameliorations(),change_color_panel()});setInterval(function(){var e=JSON.stringify(amelioration);localStorage.setItem("force",character.force),localStorage.setItem("amelioration",e),localStorage.setItem("force_second",character.force_second),localStorage.setItem("fame",character.fame),localStorage.setItem("fame_second",character.fame_second),localStorage.setItem("fame_level",character.fame_level),localStorage.setItem("click_value",character.click_value)},1e3),setInterval(function(){character.fame=parseInt(character.fame)+character.fame_second,character.force=parseFloat(character.force)+character.force_second,change_score_value()},100),check_notif(),setTimeout(function(){index.landing.classList.add("beginning")},300),index.button.addEventListener("click",function(){character.force=parseFloat(character.force),character.force=parseFloat(character.force)+parseFloat(character.click_value),change_score_value(),index.button.classList.contains("img-1")?(index.button.classList.add("img-2"),index.button.classList.remove("img-1")):(index.button.classList.add("img-1"),index.button.classList.remove("img-2"))}),index.landing_button.addEventListener("click",function(){index.container.classList.add("hide_landing")}),display_ameliorations();